{
  "annotations": {
    "list": []
  },
  "description": "Azure DevOps Work Item metrics - Cycle Time, Age, and Counts",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "id": null,
  "links": [],
  "panels": [
    {
      "datasource": {
        "type": "prometheus",
        "uid": "openobserve-metrics"
      },
      "description": "Average cycle time (creation to closure) for closed work items by type\n\nQuery: avg(work_item_cycle_time) by (work_item_type)\n\nThis calculates the average cycle time in seconds for closed work items, grouped by work item type (Bug, User Story, Task, etc.). Cycle time is measured from the work item's creation date to its closed date. The avg() function computes the mean across all closed items of each type. Lower values indicate faster completion times.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 604800
              },
              {
                "color": "red",
                "value": 1209600
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 0,
        "y": 0
      },
      "id": 1,
      "options": {
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true
      },
      "pluginVersion": "10.0.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "openobserve-metrics"
          },
          "expr": "avg(work_item_cycle_time) by (work_item_type)",
          "refId": "A",
          "legendFormat": "{{work_item_type}}"
        }
      ],
      "title": "Average Cycle Time by Type",
      "type": "gauge"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "openobserve-metrics"
      },
      "description": "Total count of work items by type and state\n\nQuery: sum(work_item_count) by (work_item_type, work_item_state)\n\nThis aggregates the total number of work items, grouped by both type and state. The sum() function adds up all work items matching each unique combination of work_item_type (Bug, User Story, etc.) and work_item_state (New, Active, Resolved, Closed). The pie chart shows the distribution of work across different categories.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": []
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 8,
        "y": 0
      },
      "id": 2,
      "options": {
        "legend": {
          "displayMode": "table",
          "placement": "right",
          "showLegend": true,
          "values": [
            "value"
          ]
        },
        "pieType": "pie",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "openobserve-metrics"
          },
          "expr": "sum(work_item_count) by (work_item_type, work_item_state)",
          "refId": "A",
          "legendFormat": "{{work_item_type}} - {{work_item_state}}"
        }
      ],
      "title": "Work Items by Type and State",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "openobserve-metrics"
      },
      "description": "Average age of open work items (time since creation)\n\nQuery: avg(work_item_age) by (work_item_type)\n\nThis shows the average age in seconds of currently open work items, grouped by type. Age is calculated from the work item's creation date to the current time. The avg() function computes the mean age for each work item type. Higher values indicate work items are sitting open longer, which may signal bottlenecks.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "yellow",
                "value": 1209600
              },
              {
                "color": "red",
                "value": 2592000
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 16,
        "y": 0
      },
      "id": 3,
      "options": {
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true
      },
      "pluginVersion": "10.0.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "openobserve-metrics"
          },
          "expr": "avg(work_item_age) by (work_item_type)",
          "refId": "A",
          "legendFormat": "{{work_item_type}}"
        }
      ],
      "title": "Average Age of Open Items",
      "type": "gauge"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "openobserve-metrics"
      },
      "description": "Cycle time trend over time for closed work items\n\nQuery: avg(work_item_cycle_time) by (work_item_type)\n\nThis time series shows how average cycle time changes over the selected time range for each work item type. The query groups closed work items by type and calculates the average time from creation to closure. Trends help identify if your team is getting faster or slower at completing work over time.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "Cycle Time",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 8
      },
      "id": 4,
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "openobserve-metrics"
          },
          "expr": "avg(work_item_cycle_time) by (work_item_type)",
          "refId": "A",
          "legendFormat": "{{work_item_type}}"
        }
      ],
      "title": "Cycle Time Trend",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "openobserve-metrics"
      },
      "description": "Age trend for open work items over time\n\nQuery: avg(work_item_age) by (work_item_type, work_item_state)\n\nThis time series displays how the average age of open work items changes over time, grouped by both type and state. The query calculates the mean age for each combination of work_item_type and work_item_state. Rising trends may indicate work is piling up or getting stale.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "Age",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 8
      },
      "id": 5,
      "options": {
        "legend": {
          "calcs": [
            "mean",
            "lastNotNull"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "openobserve-metrics"
          },
          "expr": "avg(work_item_age) by (work_item_type, work_item_state)",
          "refId": "A",
          "legendFormat": "{{work_item_type}} - {{work_item_state}}"
        }
      ],
      "title": "Open Item Age Trend",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "openobserve-metrics"
      },
      "description": "Count of work items over time by state\n\nQuery: sum(work_item_count) by (work_item_state)\n\nThis stacked time series shows the total count of work items grouped by state (New, Active, Resolved, Closed) over time. The sum() aggregates all work items regardless of type, focusing only on their state. The stacked visualization helps visualize the total work in progress and how it flows through different states.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "Count",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 24,
        "x": 0,
        "y": 16
      },
      "id": 6,
      "options": {
        "legend": {
          "calcs": [
            "lastNotNull"
          ],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "openobserve-metrics"
          },
          "expr": "sum(work_item_count) by (work_item_state)",
          "refId": "A",
          "legendFormat": "{{work_item_state}}"
        }
      ],
      "title": "Work Item Count by State Over Time",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "openobserve-metrics"
      },
      "description": "Statistical breakdown of cycle times\n\nQueries:\n- P50: quantile(0.5, work_item_cycle_time) by (work_item_type)\n- P90: quantile(0.90, work_item_cycle_time) by (work_item_type)\n- P95: quantile(0.95, work_item_cycle_time) by (work_item_type)\n\nThis table shows percentile distributions of cycle times for each work item type. P50 (median) represents typical completion time, while P90 and P95 show outliers. These percentiles help understand the distribution of cycle times beyond just averages, revealing if some items take significantly longer.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "cellOptions": {
              "type": "auto"
            },
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 24
      },
      "id": 7,
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true
      },
      "pluginVersion": "10.0.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "openobserve-metrics"
          },
          "expr": "quantile(0.5, work_item_cycle_time) by (work_item_type)",
          "refId": "A",
          "legendFormat": "{{work_item_type}} - P50"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "openobserve-metrics"
          },
          "expr": "quantile(0.90, work_item_cycle_time) by (work_item_type)",
          "refId": "B",
          "legendFormat": "{{work_item_type}} - P90"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "openobserve-metrics"
          },
          "expr": "quantile(0.95, work_item_cycle_time) by (work_item_type)",
          "refId": "C",
          "legendFormat": "{{work_item_type}} - P95"
        }
      ],
      "title": "Cycle Time Percentiles",
      "type": "table"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "openobserve-metrics"
      },
      "description": "Total open vs closed work items\n\nQueries:\n- Open: sum(work_item_count{work_item_state=~\"New|Active|Resolved\"})\n- Closed: sum(work_item_count{work_item_state=\"Closed\"})\n\nThis gauge compares the total count of open work items (states: New, Active, Resolved) versus closed items. The first query uses a regex match (~) to sum multiple open states, while the second sums only Closed items. This provides a quick health check on work item backlog.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 12,
        "y": 24
      },
      "id": 8,
      "options": {
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": [
            "lastNotNull"
          ],
          "fields": ""
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true
      },
      "pluginVersion": "10.0.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "openobserve-metrics"
          },
          "expr": "sum(work_item_count{work_item_state=~\"New|Active|Resolved\"})",
          "refId": "A",
          "legendFormat": "Open Items"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "openobserve-metrics"
          },
          "expr": "sum(work_item_count{work_item_state=\"Closed\"})",
          "refId": "B",
          "legendFormat": "Closed Items"
        }
      ],
      "title": "Open vs Closed Work Items",
      "type": "gauge"
    }
  ],
  "refresh": "30s",
  "schemaVersion": 38,
  "style": "dark",
  "tags": [
    "azure-devops",
    "work-items",
    "agile"
  ],
  "templating": {
    "list": []
  },
  "time": {
    "from": "now-24h",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "Azure DevOps - Work Items",
  "uid": "ado-work-items",
  "version": 1,
  "weekStart": ""
}
